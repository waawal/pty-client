<!doctype html>
<html>
  <head>
    <title>noscript.me</title>
    <link href='https://fonts.googleapis.com/css?family=Ubuntu+Mono|Permanent+Marker|Droid+Sans+Mono|Offside&subset=latin,cyrillic-ext,greek-ext,greek,latin-ext,cyrillic' rel='stylesheet' type='text/css'>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
    <link href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet">
    <link href="js/animate.css" rel="stylesheet">
    <link href="css/flippant.css" rel="stylesheet">
    <style>

      .terminal-wrapper {
        font-family: 'Droid Sans Mono', monospace;
        white-space: nowrap;
        font-size: 16px;
        line-height: 20px;
        visibility: hidden;
        display: table;
        float: none;
        margin-left: auto;
        margin-right: auto;
        padding: 10px;
        background-image: url(img/white_wall_hash.png);
        box-shadow: 3px 3px 6px rgba(0,0,0,0.3);
        border-radius: 5px;
        border: 1px solid #aaa;
        -webkit-transition: all 0.6s ease-out;
        -moz-transition: all 0.6s ease-out;
        -o-transition: all 0.6s ease-out;
        -ms-transition: all 0.6s ease-out;
        transition: all 0.6s ease-out;
      }
      .terminal-wrapper.active {
        visibility: visible;
      }

      .terminal-wrapper.theater {
        font-size: 20px;
        line-height: 25px;
        /*width: 960px;
         margin-left: 120px; */
      }

      .reverse-video {
        color: #000;
        background: #f0f0f0;
      }


      body {
        /* font-family: 'Droid Sans Mono', sans-serif; */
        font-family: 'Ubuntu Mono', sans-serif; 
        padding-top: 20px;
        padding-bottom: 40px;
        /* background-image: url(img/subtle_grunge.png); */
      }
      /* Custom container */
      .container-narrow {
        margin: 0 auto;
        max-width: 740px;
        /* -webkit-transition: opacity 1s ease-in-out;
        -moz-transition: opacity 1s ease-in-out;
        -o-transition: opacity 1s ease-in-out;
        -ms-transition: opacity 1s ease-in-out;
        transition: opacity 1s ease-in-out; */
      }
      .container-narrow.theater {
        opacity: 0;
      }

      .container-top {
        margin: 0 auto;
        max-width: 780px;
        -webkit-transition: all 0.6s ease-out;
        -moz-transition: all 0.6s ease-out;
        -o-transition: all 0.6s ease-out;
        -ms-transition: all 0.6s ease-out;
        transition: all 0.6s ease-out;
      }

      .container-top.theater {
        max-width: 960px;;
      }


      .masthead h3 {
        font-family: 'Offside', cursive;
      }

      .short {
        margin: 30px 0;
        margin-left: 10%;
        width: 80%;
      }
      
      /* Supporting marketing content */
      .marketing {
        margin: 40px 0;
        font-size: 16px;
      }
      .marketing p + h4 {
        margin-top: 28px;
      }

      .term-shadow
      {
          position:relative;       
          -webkit-box-shadow:0 1px 4px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1) inset;
             -moz-box-shadow:0 1px 4px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1) inset;
                  box-shadow:0 1px 4px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1) inset;
      }
      .term-shadow:before, .term-shadow:after
      {
        content:"";
          position:absolute; 
          z-index:-1;
          -webkit-box-shadow:0 0 20px rgba(0,0,0,0.8);
          -moz-box-shadow:0 0 20px rgba(0,0,0,0.8);
          box-shadow:0 0 20px rgba(0,0,0,0.8);
          top:10px;
          bottom:10px;
          left:0;
          right:0;
          -moz-border-radius:100px / 10px;
          border-radius:100px / 10px;
      } 
      .term-shadow:after
      {
        right:10px; 
          left:auto;
          -webkit-transform:skew(8deg) rotate(3deg); 
             -moz-transform:skew(8deg) rotate(3deg);     
              -ms-transform:skew(8deg) rotate(3deg);     
               -o-transform:skew(8deg) rotate(3deg); 
                  transform:skew(8deg) rotate(3deg);
      }  

    </style>
  </head>
  <body>
    <div class="term terminal-wrapper"></div>
    <div class="container-top">
      <div class="masthead">
          <ul class="nav nav-pills pull-right">
            <li id="theater-pill"><a href="#" id="theater-toggle"><i class="icon-lightbulb"></i></a></li>
            <li id="help-pill"><a href="#help-modal" id="help-toggle" role="button" data-toggle="modal"><i class="icon-question"></i></a></li>
          </ul>
          <h3 class="muted"><i class="icon-code"></i> noscript.me</h3>
        </div>

      </div>

      <div class="container-narrow">
        
        <div class="row-fluid marketing">
          <div class="span6">
            <h4>Lynx as a Service?</h4>
            <p>Just when you thought that you could finally forget all about adhearing to users with javascript incapabable browsers, suddenly a promising text broswer as a service company appears out of seemigly nowhere.</p>

            <h4>Surf in the name of Tor</h4>
            <p>All traffic that you recieve and send out is relayed through the mighty network of Tor. Your connection to &lt;noscript.me&gt; is also encrypted. Is this enough to say that its secure? - Nobody knows <i class="icon-meh"></i></p>
          </div>

          <div class="span6">
            <h4>A real terminal session</h4>
            <p>Your terminal session is actually being run inside of its very own lxc-container, curtesy of Docker. The lxc-container is limited to a whooping four megabytes of memory. This ought to be enough for anybody.</p>

            <h4>Open Source</h4>
            <p>This website, socket.pty - the session provider, pty-browser - the Dockerfile for the currently running container, ansible playbook - for getting a new session provider up, fast!</p>
          </div>
        </div>
        <hr>
        <footer>
          A weekend procect by Daniel Waardal, 2013
        </footer>
        
      </div> <!-- /container -->
      <div id="help-modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h3>Important Keys</h3>
        </div>
        <div class="modal-body">
          <p>Use <code>Up arrow</code> and <code>Down arrow</code> to scroll through hypertext links.</p>
          <p><code>Right arrow</code> or <code>Return</code> will follow a highlighted hypertext link.</p>
          <p><code>Left Arrow</code> will retreat from a link.</p>
          <p>Type <code>H</code> or <code>?</code> for online help and descriptions of key-stroke commands.</p>
          <p>Type <code>K</code> for a complete list of the current key-stroke command mappings.</p>
        </div>
      </div>
    </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
  <script src="js/socket.io.js"></script>
  <script src="js/term.js"></script>
  <script>
    $(function() {
        //display: table;
        var term = new Terminal(80, 24)
          , socket = io.connect('https://noscript.me', {secure: true});
        term.open();
        
        
        socket.on('connect', function() {
          $('.terminal-wrapper').addClass('active animated flipInX');
          setTimeout(function(){
            $('.terminal-wrapper').removeClass('animated flipInX'); //.addClass('term-shadow')
          }, 1100);
          
          
          term.on('data', function(data) {
            socket.emit('data', data);
          });
          
          socket.on('data', function(data) {
            term.write(data);
          });
        });

      $('#theater-toggle').on('click', function(e){
        e.preventDefault();
        $('#theater-pill').toggleClass('active');
        $('.term').toggleClass('theater');
        //$('.container-narrow').toggleClass('theater');
        $('.container-narrow').fadeToggle(200);
        $('.container-top').toggleClass('theater');
      });
    });
  </script>
</html>
